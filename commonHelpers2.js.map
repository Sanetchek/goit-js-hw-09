{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Object with form fields\nconst formData = {\n  email: \"\",\n  message: \"\"\n};\n\n// Constants\nconst FEEDBACK_FORM_STATE = \"feedback-form-state\";\n\n// Searching for Form\nconst feedbackForm = document.querySelector('.feedback-form');\n\n// Get form data from localStorage\nconst storage = localStorage.getItem(FEEDBACK_FORM_STATE);\n\n// Check if storage exist\nif ( storage ) {\n  // Get storage fields\n  const { email, message } = JSON.parse(storage);\n\n  // Save storage data email to Object\n  formData.email = email;\n  formData.message = message;\n\n  // Save storage data to form fields\n  feedbackForm.querySelector('[name=\"email\"]').value = email;\n  feedbackForm.querySelector('[name=\"message\"]').value = message;\n}\n\n// Update Inputed text to Object and localStorage\nconst saveFieldToLacalStorage = (event) => {\n  const field = event.target\n\n  // Get field name\n  const fieldName = field.getAttribute('name')\n\n  // Update formData field\n  formData[fieldName] = field.value.trim();\n\n  // Save in localStorage\n  localStorage.setItem(FEEDBACK_FORM_STATE, JSON.stringify(formData));\n}\n\n// Submit Form\nconst onSubmitFeedbackForm = (event) => {\n  event.preventDefault();\n\n  // Get all form elements\n  const formEls = event.currentTarget.elements;\n\n  // Check if fiedls are filled\n  if (!formEls.email.value || !formEls.message.value) {\n    alert('Fill all fields, please');\n    return;\n  }\n\n  // Show formData in console\n  console.log(formData);\n\n  // Clear localStorage\n  localStorage.removeItem(FEEDBACK_FORM_STATE);\n\n  // Clear formData\n  formData.email = \"\";\n  formData.message = \"\";\n\n  // Clear Form\n  event.currentTarget.reset();\n}\n\n// Listeners\nfeedbackForm.addEventListener('input', saveFieldToLacalStorage);\nfeedbackForm.addEventListener('submit', onSubmitFeedbackForm);"],"names":["formData","FEEDBACK_FORM_STATE","feedbackForm","storage","email","message","saveFieldToLacalStorage","event","field","fieldName","onSubmitFeedbackForm","formEls"],"mappings":"wFACA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAGMC,EAAsB,sBAGtBC,EAAe,SAAS,cAAc,gBAAgB,EAGtDC,EAAU,aAAa,QAAQF,CAAmB,EAGxD,GAAKE,EAAU,CAEb,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAK,KAAK,MAAMF,CAAO,EAG7CH,EAAS,MAAQI,EACjBJ,EAAS,QAAUK,EAGnBH,EAAa,cAAc,gBAAgB,EAAE,MAAQE,EACrDF,EAAa,cAAc,kBAAkB,EAAE,MAAQG,CACzD,CAGA,MAAMC,EAA2BC,GAAU,CACzC,MAAMC,EAAQD,EAAM,OAGdE,EAAYD,EAAM,aAAa,MAAM,EAG3CR,EAASS,CAAS,EAAID,EAAM,MAAM,KAAI,EAGtC,aAAa,QAAQP,EAAqB,KAAK,UAAUD,CAAQ,CAAC,CACpE,EAGMU,EAAwBH,GAAU,CACtCA,EAAM,eAAc,EAGpB,MAAMI,EAAUJ,EAAM,cAAc,SAGpC,GAAI,CAACI,EAAQ,MAAM,OAAS,CAACA,EAAQ,QAAQ,MAAO,CAClD,MAAM,yBAAyB,EAC/B,MACD,CAGD,QAAQ,IAAIX,CAAQ,EAGpB,aAAa,WAAWC,CAAmB,EAG3CD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAGnBO,EAAM,cAAc,OACtB,EAGAL,EAAa,iBAAiB,QAASI,CAAuB,EAC9DJ,EAAa,iBAAiB,SAAUQ,CAAoB"}